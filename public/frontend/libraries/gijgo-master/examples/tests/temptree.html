<html>
<head>
    <meta charset="utf-8" />
    <title>Treeview Example</title>
    <script src="../../dist/libraries/jquery/jquery.min.js"></script>
    <link href="../../dist/modular/css/core.css" rel="stylesheet" type="text/css">
    <link href="../../dist/modular/css/tree.css" rel="stylesheet" type="text/css">
    <link href="../../dist/modular/css/checkbox.css" rel="stylesheet" type="text/css">
    <script src="../../dist/modular/js/core.js"></script>
    <script src="../../dist/modular/js/draggable.js"></script>
    <script src="../../dist/modular/js/droppable.js"></script>
    <script src="../../dist/modular/js/tree.js"></script>
    <script src="../../dist/modular/js/checkbox.js"></script>
</head>
<body>
    <input type="text" id="nodeName" />
    <button onclick="save()" class="gj-button-md">Save</button>
    <br />
    <div id="tree"></div>
    <script>
        var tree = $('#tree').tree({
            primaryKey: 'id',
            dataSource: '/Locations/Get',
            checkboxes: true,
            dragAndDrop: true
        });
        tree.on('select', function (e, node, id) {
            $('#nodeName').val(tree.getDataById(id).text);
        });
        function save() {
            var id = tree.getSelections()[0],
                record = tree.getDataById(id);
            record.text = $('#nodeName').val();
            tree.updateNode(id, record);
        }
    </script>
</body>
</html>
